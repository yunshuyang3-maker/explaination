<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Explain It Simply</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<style>
:root {
  --bg:#f4f6f8; --card:#fff; --text:#222; --accent:#4a6cff;
}
body.dark {
  --bg:#121212; --card:#1e1e1e; --text:#f0f0f0; --accent:#8aa4ff;
}
body {
  margin:0; font-family:Arial; background:var(--bg); color:var(--text);
}
header {
  background:var(--accent); color:white; padding:20px; text-align:center;
}
header button {
  padding:8px 12px; border:none; border-radius:6px; cursor:pointer;
}
main {
  max-width:900px; margin:20px auto; padding:15px;
}
input, textarea {
  width:100%; padding:10px; margin-bottom:15px; border-radius:6px; border:1px solid #ccc;
}
.card {
  background:var(--card); padding:20px; border-radius:10px; margin-bottom:20px;
  box-shadow:0 2px 6px rgba(0,0,0,.1);
  transition: transform 0.2s;
}
.card:hover { transform: scale(1.01); }
.tag { font-size:12px; color:var(--accent); margin-bottom:5px; display:block; }
footer { text-align:center; opacity:.7; padding:15px; }
.like { cursor:pointer; color:var(--accent); font-weight:bold; margin-top:10px; display:inline-block; }
</style>
</head>

<body>

<header>
  <h1>Explain It Simply</h1>
  <p>Confusing things. Explained in under 60 seconds.</p>
  <button onclick="toggleDark()">üåô Dark Mode</button>
</header>

<main>

<input id="search" placeholder="Search something..." onkeyup="searchCards()">

<div id="cardsContainer">
  <!-- Cards will be dynamically added here -->
</div>

<!-- SUGGESTION -->
<div class="card">
  <h2>Suggest a Topic</h2>
  <textarea id="suggestion" placeholder="What should we explain next?"></textarea>
  <button onclick="addTopic()">Send (demo)</button>
</div>

</main>

<footer>
¬© 2026 Explain It Simply
</footer>

<script>
function toggleDark(){
  document.body.classList.toggle("dark");
}

function searchCards(){
  let v = search.value.toLowerCase();
  document.querySelectorAll(".card").forEach(c=>{
    if(c.id !== "suggestionCard"){
      c.style.display = c.innerText.toLowerCase().includes(v)?"block":"none";
    }
  });
}

// Like system
function like(id){
  let count = localStorage.getItem("like"+id) || 0;
  count++;
  localStorage.setItem("like"+id,count);
  document.getElementById("l"+id).innerText = count;
}

// Function to fetch explanations from Wikipedia
async function fetchExplanation(topic, id){
  try {
    const url = `https://en.wikipedia.org/api/rest_v1/page/summary/${encodeURIComponent(topic)}`;
    const response = await fetch(url);
    const data = await response.json();
    const container = document.getElementById("cardsContainer");

    const card = document.createElement("div");
    card.className = "card";
    card.innerHTML = `
      <div class="tag">Info</div>
      <h2>${data.title}</h2>
      <p>${data.extract || "No explanation found."}</p>
      <div class="like" onclick="like(${id})">üëç Likes: <span id="l${id}">${localStorage.getItem("like"+id) || 0}</span></div>
    `;
    container.appendChild(card);
  } catch (err) {
    console.error(err);
  }
}

// Example topics to load on page load
const topics = ["Artificial intelligence", "Gravity", "Procrastination"];
topics.forEach((t,i)=>fetchExplanation(t,i));

// Adding user suggestions (demo)
function addTopic(){
  const topic = document.getElementById("suggestion").value;
  if(topic.trim() !== "") fetchExplanation(topic, Date.now()); // Unique ID
  document.getElementById("suggestion").value = "";
}
</script>

</body>
</html>
