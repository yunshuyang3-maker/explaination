<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Explain It Simply</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<style>
:root { --bg:#f4f6f8; --card:#fff; --text:#222; --accent:#4a6cff; }
body.dark { --bg:#121212; --card:#1e1e1e; --text:#f0f0f0; --accent:#8aa4ff; }
body { margin:0; font-family:Arial; background:var(--bg); color:var(--text); }
header { background:var(--accent); color:white; padding:20px; text-align:center; }
header button { padding:8px 12px; border:none; border-radius:6px; cursor:pointer; }
main { max-width:900px; margin:20px auto; padding:15px; }
input { width:80%; padding:10px; margin-bottom:15px; border-radius:6px; border:1px solid #ccc; }
button.summarize { padding:10px 15px; border:none; border-radius:6px; background:var(--accent); color:white; cursor:pointer; margin-left:5px; }
.card { background:var(--card); padding:20px; border-radius:10px; margin-bottom:20px; box-shadow:0 2px 6px rgba(0,0,0,.1); transition: transform 0.2s; }
.card:hover { transform: scale(1.01); }
.tag { font-size:12px; color:var(--accent); margin-bottom:5px; display:block; }
footer { text-align:center; opacity:.7; padding:15px; }
.like { cursor:pointer; color:var(--accent); font-weight:bold; margin-top:10px; display:inline-block; }
</style>
</head>

<body>

<header>
  <h1>Explain It Simply</h1>
  <p>Confusing things. Explained in under 60 seconds.</p>
  <button onclick="toggleDark()">üåô Dark Mode</button>
</header>

<main>
<div style="display:flex; align-items:center;">
  <input id="search" placeholder="Type something to summarize..." onkeyup="searchCards(event)">
  <button class="summarize" onclick="addTopic()">Summarize</button>
</div>
<div id="cardsContainer"></div>
</main>

<footer>¬© 2026 Explain It Simply</footer>

<script>
function toggleDark(){ document.body.classList.toggle("dark"); }

function like(id){
  let count = localStorage.getItem("like"+id) || 0;
  count++;
  localStorage.setItem("like"+id,count);
  document.getElementById("l"+id).innerText = count;
}

// Add topic from input
function addTopic(){
  const topicInput = document.getElementById("search");
  const topic = topicInput.value.trim();
  if(topic) getSummary(topic);
  topicInput.value = "";
}

// Press Enter also works
document.getElementById("search").addEventListener("keydown", function(e){
  if(e.key === "Enter") addTopic();
});

// Live search/filter
function searchCards(e){
  const v = e.target.value.toLowerCase();
  document.querySelectorAll(".card").forEach(c=>{
    c.style.display = c.innerText.toLowerCase().includes(v) ? "block" : "none";
  });
}

// Fetch summary from Wikipedia and create card
async function getSummary(topic){
  const container = document.getElementById("cardsContainer");
  const card = document.createElement("div");
  const cardId = Date.now();
  card.className = "card";
  card.innerHTML = `<h2>${topic}</h2><p>Loading summary...</p>`;
  container.prepend(card);

  try {
    const wikiResp = await fetch(`https://en.wikipedia.org/api/rest_v1/page/summary/${encodeURIComponent(topic)}`);
    const wikiData = await wikiResp.json();

    if(wikiData.extract){
      card.innerHTML = `
        <div class="tag">Wikipedia</div>
        <h2>${wikiData.title}</h2>
        <p>${wikiData.extract}</p>
        <div class="like" onclick="like(${cardId})">üëç Likes: <span id="l${cardId}">${localStorage.getItem("like"+cardId) || 0}</span></div>
      `;
    } else {
      card.innerHTML = `<h2>${topic}</h2><p>Sorry, no summary available on Wikipedia.</p>`;
    }
  } catch(err){
    console.error(err);
    card.innerHTML = `<h2>${topic}</h2><p>Could not fetch summary. Check your internet connection.</p>`;
  }
}

// Large set of default topics
const defaultTopics = [
  "Artificial intelligence", "Gravity", "Procrastination", "Photosynthesis", "Blockchain",
  "Quantum mechanics", "Black holes", "Relativity", "Evolution", "Internet of Things",
  "Climate change", "Electricity", "Plate tectonics", "DNA", "Vaccines",
  "Machine learning", "Neurons", "Economics", "Cryptocurrency", "Light"
];

defaultTopics.forEach(t => getSummary(t));
</script>

</body>
</html>
